#!/bin/zsh

# Usage: extractAndroidManifest.sh  [Apk File Path]

jarPath=$(cd $(dirname $0); cd ..; pwd)
tmpDirPath="./tmp"
tmpZipPath="./tmp.zip"
targetAppPath=$1

cp $1 ./tmp.zip
unzip $1 -d $tmpDirPath 
java -jar $jarPath/AXMLPrinter2.jar $tmpDirPath/AndroidManifest.xml > ./AndroidManifest.txt
rm -rf tmp tmp.zip